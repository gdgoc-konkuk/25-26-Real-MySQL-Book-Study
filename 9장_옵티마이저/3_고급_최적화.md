## 3. 고급 최적화
MySQL 서버의 옵티마이저가 실행 계획을 수립할 때 통계 정보와 옵티마이저 옵션을 결합해서 최적의 실행 계획을 수립한다. 
옵티마이저 옵션은 크게 조인 관련된 옵티마이저 옵션과 옵티마이저 스위치로 구분할 수 있다.

### 3.1. 옵티마이저 스위치 옵션

1. MRR과 배치 키 액세스(mrr & batched_key_access)
	- 네스티드 루프 조인(Nested Loop Join) : MySQL 서버에서 지금까지 지원하던 조인 방식으로, 드라이빙 테이블(조인에서 제일 먼저 읽는 테이블)의 레코드를 한 건 읽어서 드리븐 테이블(조인되는 테이블에서 드라이빙이 아닌 테이블들)의 일치하는 레코드를 찾아 조인을 수행한다. 이 방식을 이용할 경우, 드라이빙 테이블의 한 레코드를 읽을 때마다 디스크에 접근하게 된다.
	- MRR(Multi-Range Read) : 조인 대상 테이블 중 하나로부터 레코드를 읽어 조인 버퍼에 버퍼링하고, 조인 버퍼가 가득 차면 스토리지에 한 번에 요청한다.
	- BKA(Batched Key Access) 조인 : MRR을 응용해서 실행되는 조인 방식

2. 블록 네스티드 루프 조인(block_nested_loop)
	- 네스티드 루프 조인 : 조인의 연결 조건이 되는 칼럼에 모두 인덱스가 있는 경우 사용되는 조인 방식이다. 이중 반복문처럼 작동한다고 해서 네스티드 루프 조인이라고 한다.
	- 블록 네스티드 루프 조인 : 조인 버퍼가 사용되는 네스티드 루프 조인 방식이다.

3. 인덱스 컨디션 푸시다운(index_condition_pushdown)
4. 인덱스 확장(use_index_extensions)
5. 인덱스 머지(index_merge)

### 3.2. 조인 최적화 알고리즘

